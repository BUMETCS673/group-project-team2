{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n// const token =\n//   'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik9aRXppaDlYaUdBR21WYW9NR2JqVCJ9.eyJodHRwczovL2NzNjczand0YmFja2VuZC5jb20vZW1haWwiOiJjaGlubWF5eUBidS5lZHUiLCJpc3MiOiJodHRwczovL2Rldi15cncwdDBmeS51cy5hdXRoMC5jb20vIiwic3ViIjoiZ29vZ2xlLW9hdXRoMnwxMDU1NTQ5MTYxMzk0MzgzNjIxNDIiLCJhdWQiOlsiaHR0cHM6Ly9jczY3My1hcGktYXV0aDAuY29tIiwiaHR0cHM6Ly9kZXYteXJ3MHQwZnkudXMuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTY1NDY1NzU5NSwiZXhwIjoxNjU0NzQzOTk1LCJhenAiOiJscXh0S0JkRG9VSEpqZEFLT1RUUUFGV2RONVNuRmt2YyIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwifQ.Ur3x6XsPJsdm4pjKpkttPPPXJ0mJMtyxlM-re8qMa8P7dYxu7N2bHdNrNWFRsBMjQ0NKiamhww0GJ3Z-jqRsO6sXQhfQEF-5k7oVxjPwtouJtA-7Kb5kZOkc7i_-a5BRKnMVQcAPLYRUnTztBDMvtRwUv0ZTsQKFS-6HQthQrIptyoJh4RyrstZxuOqPs5S3jk2Jtk7tCGB99LzTOAtoFucjula1hssBAPP4uH76KDZl7dvVmkuUirwjsUO5WPxmu1eMkqGiUD6U7GNAyapF7NoVeEBb3rnzP0c8cxNSlBzbl2uOmBDB6aLRKoRXMfqM1puU3jqhpc14HNlUB7TrIw'\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://x3pmfzyrll.execute-api.us-east-1.amazonaws.com/default/cs673_job',\n    prepareHeaders: (headers, _ref) => {\n      let {\n        getState\n      } = _ref;\n      const token = getState().user.token;\n      console.log('token 2', token);\n\n      if (token) {\n        headers.set('Authorization', `Bearer ${token}`);\n      }\n\n      return headers;\n    }\n  }),\n\n  endpoints(builder) {\n    return {\n      fetchJobs: builder.query({\n        query() {\n          return ``;\n        }\n\n      }),\n      createJob: builder.mutation({\n        query: job => ({\n          headers: {\n            \"Content-type\": \"application/json\"\n          },\n          url: '',\n          method: 'POST',\n          body: job\n        })\n      })\n    };\n  }\n\n});\nexport const {\n  useFetchJobsQuery,\n  useCreateJobMutation\n} = apiSlice;","map":{"version":3,"names":["createApi","fetchBaseQuery","apiSlice","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","getState","token","user","console","log","set","endpoints","builder","fetchJobs","query","createJob","mutation","job","url","method","body","useFetchJobsQuery","useCreateJobMutation"],"sources":["/Users/tainaconde/Desktop/BU/CS673/group-project-team2/jobs-tracker-frontend/src/features/jobs/jobs-api-slice.ts"],"sourcesContent":["import { createApi, fetchBaseQuery} from '@reduxjs/toolkit/query/react'\nimport type {RootState} from '../../app/store'\n\ninterface Job {\n    ID?: string,\n    companyName : string,\n    jobTitle: string,\n    description: string,\n    status: string,\n    createdAt?: Date,\n    updatedAt?: Date, \n}\n// const token =\n//   'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik9aRXppaDlYaUdBR21WYW9NR2JqVCJ9.eyJodHRwczovL2NzNjczand0YmFja2VuZC5jb20vZW1haWwiOiJjaGlubWF5eUBidS5lZHUiLCJpc3MiOiJodHRwczovL2Rldi15cncwdDBmeS51cy5hdXRoMC5jb20vIiwic3ViIjoiZ29vZ2xlLW9hdXRoMnwxMDU1NTQ5MTYxMzk0MzgzNjIxNDIiLCJhdWQiOlsiaHR0cHM6Ly9jczY3My1hcGktYXV0aDAuY29tIiwiaHR0cHM6Ly9kZXYteXJ3MHQwZnkudXMuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTY1NDY1NzU5NSwiZXhwIjoxNjU0NzQzOTk1LCJhenAiOiJscXh0S0JkRG9VSEpqZEFLT1RUUUFGV2RONVNuRmt2YyIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwifQ.Ur3x6XsPJsdm4pjKpkttPPPXJ0mJMtyxlM-re8qMa8P7dYxu7N2bHdNrNWFRsBMjQ0NKiamhww0GJ3Z-jqRsO6sXQhfQEF-5k7oVxjPwtouJtA-7Kb5kZOkc7i_-a5BRKnMVQcAPLYRUnTztBDMvtRwUv0ZTsQKFS-6HQthQrIptyoJh4RyrstZxuOqPs5S3jk2Jtk7tCGB99LzTOAtoFucjula1hssBAPP4uH76KDZl7dvVmkuUirwjsUO5WPxmu1eMkqGiUD6U7GNAyapF7NoVeEBb3rnzP0c8cxNSlBzbl2uOmBDB6aLRKoRXMfqM1puU3jqhpc14HNlUB7TrIw'\n\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      'https://x3pmfzyrll.execute-api.us-east-1.amazonaws.com/default/cs673_job',\n    prepareHeaders: (headers, {getState}) => {\n      const token = (getState() as RootState).user.token\n      console.log('token 2', token)\n      if (token) {\n        headers.set('Authorization', `Bearer ${token}`)\n      }\n      return headers\n    },\n  }),\n  endpoints(builder) {\n    return {\n      fetchJobs: builder.query<Job[], number | void>({\n        query() {\n          return ``\n        },\n      }),\n      createJob: builder.mutation<Job, Job | void>({\n          query: (job) =>({\n            headers: {\n                \"Content-type\" : \"application/json\"\n            },\n              url: '',\n              method: 'POST',\n              body: job\n              \n          })\n      })\n    }\n  },\n})\n\nexport const { useFetchJobsQuery, useCreateJobMutation } = apiSlice\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAAyC,8BAAzC;AAYA;AACA;AAEA,OAAO,MAAMC,QAAQ,GAAGF,SAAS,CAAC;EAChCG,WAAW,EAAE,KADmB;EAEhCC,SAAS,EAAEH,cAAc,CAAC;IACxBI,OAAO,EACL,0EAFsB;IAGxBC,cAAc,EAAE,CAACC,OAAD,WAAyB;MAAA,IAAf;QAACC;MAAD,CAAe;MACvC,MAAMC,KAAK,GAAID,QAAQ,EAAT,CAA0BE,IAA1B,CAA+BD,KAA7C;MACAE,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,KAAvB;;MACA,IAAIA,KAAJ,EAAW;QACTF,OAAO,CAACM,GAAR,CAAY,eAAZ,EAA8B,UAASJ,KAAM,EAA7C;MACD;;MACD,OAAOF,OAAP;IACD;EAVuB,CAAD,CAFO;;EAchCO,SAAS,CAACC,OAAD,EAAU;IACjB,OAAO;MACLC,SAAS,EAAED,OAAO,CAACE,KAAR,CAAoC;QAC7CA,KAAK,GAAG;UACN,OAAQ,EAAR;QACD;;MAH4C,CAApC,CADN;MAMLC,SAAS,EAAEH,OAAO,CAACI,QAAR,CAAkC;QACzCF,KAAK,EAAGG,GAAD,KAAS;UACdb,OAAO,EAAE;YACL,gBAAiB;UADZ,CADK;UAIZc,GAAG,EAAE,EAJO;UAKZC,MAAM,EAAE,MALI;UAMZC,IAAI,EAAEH;QANM,CAAT;MADkC,CAAlC;IANN,CAAP;EAkBD;;AAjC+B,CAAD,CAA1B;AAoCP,OAAO,MAAM;EAAEI,iBAAF;EAAqBC;AAArB,IAA8CvB,QAApD"},"metadata":{},"sourceType":"module"}