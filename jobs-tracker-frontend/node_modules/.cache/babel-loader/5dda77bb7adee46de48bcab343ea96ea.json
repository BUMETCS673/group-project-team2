{"ast":null,"code":"var _jsxFileName = \"/Users/tainaconde/Desktop/BU/CS673/group-project-team2/jobs-tracker-frontend/src/pages/Home.tsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect } from 'react'; // import JobCard from '../components/Job_Components/JobCard'\n\nimport { StyledCardsContainer } from '../styles/styles';\nimport HomePageHeader from '../components/HomePageHeader'; //import jobsService from '../services/jobs.service'\n\nimport JobCardNew from '../components/Job_Components/JobCardNew';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { useAppDispatch } from '../app/hooks';\nimport { useFetchJobsQuery } from '../features/jobs/jobs-api-slice';\nimport NoJobs from \"../components/Job_Components/NoJobs\";\nimport { setUserToken } from '../features/user/user-slice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Home = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    user,\n    isAuthenticated,\n    getAccessTokenSilently\n  } = useAuth0();\n  const dispatch = useAppDispatch();\n\n  _s(useEffect(_s(() => {\n    _s();\n\n    if (isAuthenticated && user) {\n      const getClaims = async () => {\n        const claims = await getAccessTokenSilently();\n        console.log('token', claims);\n        dispatch(setUserToken({\n          token: claims\n        }));\n      };\n\n      const {\n        data = []\n      } = useFetchJobsQuery();\n      getClaims();\n    }\n  }, \"yP7anR5AeJ6gtfYRIdwsyh2i5xk=\", false, function () {\n    return [useFetchJobsQuery];\n  }), [isAuthenticated]), \"yP7anR5AeJ6gtfYRIdwsyh2i5xk=\", false, function () {\n    return [useFetchJobsQuery];\n  });\n\n  if (isAuthenticated && user) {\n    // const [jobItems, setJobItems] = useState([]);\n    // useEffect(() => {\n    //   // const email = user?.email ?? 'none'\n    //   jobsService.getAll().then((response: any) => {\n    //     setJobItems(response.data)\n    //   }).catch((e: Error) => {\n    //     console.log(e);\n    //   });\n    // }, [])\n    console.log(data);\n    return /*#__PURE__*/_jsxDEV(StyledCardsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(HomePageHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), data.length !== 0 ? data.map(job => /*#__PURE__*/_jsxDEV(JobCardNew, {\n        companyName: job.companyName,\n        jobTitle: job.jobTitle,\n        status: job.status\n      }, job.ID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(NoJobs, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"not authenticated\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 15\n  }, this);\n};\n\n_s2(Home, \"4Z6jlL32zsRCYoctbbAAToFkH2I=\", false, function () {\n  return [useAuth0, useAppDispatch];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","StyledCardsContainer","HomePageHeader","JobCardNew","useAuth0","useAppDispatch","useFetchJobsQuery","NoJobs","setUserToken","Home","user","isAuthenticated","getAccessTokenSilently","dispatch","getClaims","claims","console","log","token","data","length","map","job","companyName","jobTitle","status","ID"],"sources":["/Users/tainaconde/Desktop/BU/CS673/group-project-team2/jobs-tracker-frontend/src/pages/Home.tsx"],"sourcesContent":["import React, {useEffect} from 'react'\n// import JobCard from '../components/Job_Components/JobCard'\nimport { StyledCardsContainer } from '../styles/styles'\nimport HomePageHeader from '../components/HomePageHeader'\n//import jobsService from '../services/jobs.service'\nimport JobCardNew from '../components/Job_Components/JobCardNew'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport {useAppDispatch} from '../app/hooks'\nimport { useFetchJobsQuery } from '../features/jobs/jobs-api-slice'\nimport NoJobs from \"../components/Job_Components/NoJobs\"\nimport { setUserToken } from '../features/user/user-slice'\n\n\nexport const Home = () => {\n  const { user, isAuthenticated, getAccessTokenSilently } = useAuth0()\n  const dispatch = useAppDispatch()\n  useEffect(()=> {\n    if (isAuthenticated && user) {\n    const getClaims = async () => {\n      const claims = await getAccessTokenSilently()\n      console.log('token', claims)\n      dispatch(setUserToken({token: claims}))\n    }\n    const {data = []} = useFetchJobsQuery()\n    getClaims()}\n  }, [isAuthenticated])\n  \n  \n  if (isAuthenticated && user) {\n    \n    // const [jobItems, setJobItems] = useState([]);\n    // useEffect(() => {\n    //   // const email = user?.email ?? 'none'\n    //   jobsService.getAll().then((response: any) => {\n    //     setJobItems(response.data)\n    //   }).catch((e: Error) => {\n    //     console.log(e);\n    //   });\n    // }, [])\n    console.log(data)\n  \n    \n    return (\n      <StyledCardsContainer>\n        <HomePageHeader />\n        <br />\n        <br />\n        <br />\n        {data.length !== 0 \n          ? data.map((job) => (\n            <JobCardNew\n              key = {job.ID}\n              companyName={job.companyName}\n              jobTitle={job.jobTitle}\n              status={job.status}\n            />\n            )\n          ) \n          : <NoJobs/> \n        }\n      </StyledCardsContainer>\n        )\n      }\n      return (<div>not authenticated</div>)\n    }"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AACA,SAASC,oBAAT,QAAqC,kBAArC;AACA,OAAOC,cAAP,MAA2B,8BAA3B,C,CACA;;AACA,OAAOC,UAAP,MAAuB,yCAAvB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAAQC,cAAR,QAA6B,cAA7B;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,OAAOC,MAAP,MAAmB,qCAAnB;AACA,SAASC,YAAT,QAA6B,6BAA7B;;AAGA,OAAO,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAAA;;EACxB,MAAM;IAAEC,IAAF;IAAQC,eAAR;IAAyBC;EAAzB,IAAoDR,QAAQ,EAAlE;EACA,MAAMS,QAAQ,GAAGR,cAAc,EAA/B;;EACA,GAAAL,SAAS,IAAC,MAAK;IAAA;;IACb,IAAIW,eAAe,IAAID,IAAvB,EAA6B;MAC7B,MAAMI,SAAS,GAAG,YAAY;QAC5B,MAAMC,MAAM,GAAG,MAAMH,sBAAsB,EAA3C;QACAI,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,MAArB;QACAF,QAAQ,CAACL,YAAY,CAAC;UAACU,KAAK,EAAEH;QAAR,CAAD,CAAb,CAAR;MACD,CAJD;;MAKA,MAAM;QAACI,IAAI,GAAG;MAAR,IAAcb,iBAAiB,EAArC;MACAQ,SAAS;IAAG;EACb,CATQ;IAAA,QAOaR,iBAPb;EAAA,IASN,CAACK,eAAD,CATM,CAAT;IAAA,QAOsBL,iBAPtB;EAAA;;EAYA,IAAIK,eAAe,IAAID,IAAvB,EAA6B;IAE3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAM,OAAO,CAACC,GAAR,CAAYE,IAAZ;IAGA,oBACE,QAAC,oBAAD;MAAA,wBACE,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE;QAAA;QAAA;QAAA;MAAA,QAJF,EAKGA,IAAI,CAACC,MAAL,KAAgB,CAAhB,GACGD,IAAI,CAACE,GAAL,CAAUC,GAAD,iBACT,QAAC,UAAD;QAEE,WAAW,EAAEA,GAAG,CAACC,WAFnB;QAGE,QAAQ,EAAED,GAAG,CAACE,QAHhB;QAIE,MAAM,EAAEF,GAAG,CAACG;MAJd,GACSH,GAAG,CAACI,EADb;QAAA;QAAA;QAAA;MAAA,QADA,CADH,gBAUG,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QAfN;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAoBG;;EACD,oBAAQ;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAR;AACD,CAnDE;;IAAMjB,I;UAC+CL,Q,EACzCC,c;;;KAFNI,I"},"metadata":{},"sourceType":"module"}